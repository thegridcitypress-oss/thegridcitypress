<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Grid City Press</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<style>
/* ... same CSS as before ... */
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Playfair Display', serif; background-color: #f9f9f9; color: #111; }
header { position: relative; background-color: white; border-bottom: 1px solid #ccc; padding: 30px 20px 20px; }
.header-inner { text-align: center; }
header h1 { font-size: 3rem; font-weight: 700; letter-spacing: 1px; margin: 0; }
nav.main-nav { margin-top: 20px; margin-bottom: 30px; }
.nav-left { text-align: center; }
.nav-left a { text-decoration: none; color: #444; margin: 0 15px; font-weight: 600; font-size: 1rem; cursor: pointer; }
.nav-left a:hover { color: #000; }
.nav-right { position: absolute; top: 35px; right: 20px; }
.nav-right a, .nav-right button { text-decoration: none; color: #444; margin: 0 10px; font-weight: 600; font-size: 1rem; background: none; border: none; cursor: pointer; font-family: inherit; }
.nav-right a:hover, .nav-right button:hover { color: #000; }
.container { max-width: 800px; margin: 0 auto; padding: 0 20px 40px; }
h2.section-title { font-size: 1.8rem; margin: 20px 0 15px; font-weight: 700; border-bottom: 1px solid #ddd; padding-bottom: 10px; }
.article-link { display: block; border: 1px solid #ccc; padding: 20px; margin-bottom: 20px; text-decoration: none; color: inherit; transition: background-color 0.2s ease; cursor: pointer; }
.article-link:hover { background-color: #f0f0f0; }
.article-link h3 { margin: 0 0 5px; font-size: 1.4rem; }
.article-link small { color: #777; font-size: 0.9rem; }
footer { text-align: center; color: #aaa; font-size: 0.8rem; padding: 20px; border-top: 1px solid #ddd; }
.article-view { display: none; }
.article-view.active { display: block; }
.article-content { margin-top: 30px; line-height: 1.8; }
.article-content p { margin-bottom: 1.2em; }
.back-link { display: inline-block; margin-top: 30px; text-decoration: none; color: #444; font-weight: 600; cursor: pointer; }
.back-link:hover { color: #000; }
.auth-container { display: none; max-width: 600px; margin: 50px auto; padding: 0 20px; }
.auth-container.active { display: block; }
.auth-container h1 { text-align: center; margin-bottom: 30px; }
.auth-form label { display: block; margin-top: 20px; font-weight: bold; }
.auth-form input, .auth-form select { width: 100%; padding: 10px; margin-top: 5px; font-family: inherit; font-size: inherit; border: 1px solid #ccc; }
.auth-form button { margin-top: 20px; padding: 10px 20px; background-color: #000; color: #fff; border: none; cursor: pointer; font-family: inherit; font-size: inherit; }
.auth-form button:hover { background-color: #333; }
.message { margin-top: 20px; padding: 10px; font-weight: bold; color: darkgreen; background-color: #e8f5e9; border: 1px solid #4caf50; border-radius: 4px; }
.message.error { color: darkred; background-color: #ffebee; border-color: #f44336; }
.auth-links { margin-top: 20px; }
.auth-links a { color: #444; text-decoration: none; display: block; margin-top: 10px; cursor: pointer; }
.hidden { display: none; }
.profile-container { display: none; max-width: 600px; margin: 50px auto; padding: 0 20px; }
.profile-container.active { display: block; }
.profile-info { margin: 20px 0; }
.profile-info p { margin: 10px 0; }
.links { margin-top: 30px; display: flex; flex-direction: column; gap: 15px; }
.links a, .links button { text-decoration: none; background-color: #000; color: #fff; padding: 10px 15px; font-weight: 600; text-align: center; border-radius: 4px; cursor: pointer; border: none; font-family: inherit; font-size: inherit; }
.links a:hover, .links button:hover { background-color: #333; }
#editor { border: 1px solid #ccc; padding: 15px; min-height: 300px; background-color: white; margin-top: 5px; overflow-y: auto; }
.delete-button { margin-top: 10px; display: inline-block; padding: 6px 12px; background-color: crimson; color: white; text-decoration: none; font-size: 0.9rem; border-radius: 4px; border: none; cursor: pointer; font-family: inherit; }
.delete-button:hover { background-color: darkred; }
@media (max-width: 768px) {
header h1 { font-size: 2rem; }
.nav-right { position: static; text-align: center; margin-top: 15px; }
.nav-left a { display: block; margin: 10px 0; }
}
</style>
</head>
<body>

<!-- HOME -->
<div id="home-page">
  <header>
    <div class="header-inner"><h1>The Grid City Press</h1></div>
    <nav class="main-nav">
      <div class="nav-left">
        <a onclick="showHome()">Home</a>
        <a onclick="filterByTeam('Utah Athletics')">Utah Athletics</a>
        <a onclick="filterByTeam('Utah Mammoth')">Utah Mammoth</a>
        <a onclick="filterByTeam('Utah Jazz')">Utah Jazz</a>
      </div>
      <div class="nav-right" id="nav-auth"></div>
    </nav>
  </header>
  <div class="container">
    <h2 class="section-title" id="articles-title">Latest Articles</h2>
    <div id="articles-list"></div>
  </div>
  <footer>&copy; <span id="year"></span> The Grid City Press. All rights reserved.</footer>
</div>

<!-- ARTICLE VIEW -->
<div id="article-page" class="article-view">
  <header><div class="header-inner"><h1>The Grid City Press</h1></div></header>
  <div class="container">
    <h1 id="view-article-title"></h1>
    <small id="article-meta"></small>
    <div class="article-content" id="article-content"></div>
    <a class="back-link" onclick="showHome()">‚Üê Back to Home</a>
  </div>
</div>

<!-- LOGIN, REGISTER, PROFILE, UPDATE, ADD, DELETE ... same as before ... -->
<!-- For brevity, include all the HTML from your previous full script -->

<script>
document.addEventListener('DOMContentLoaded', function() {
  const DEFAULT_ARTICLES = [];
  let articles = DEFAULT_ARTICLES.slice();
  let users = [];
  let currentUser = null;
  let currentFilter = null;
  
  document.getElementById('year').textContent = new Date().getFullYear();

  function updateAuthUI() {
    const navAuth = document.getElementById('nav-auth');
    if (currentUser) {
      navAuth.innerHTML = '<a onclick="showProfile()">' + escapeHtml(currentUser.username) + '</a><button onclick="handleLogout()">Log Out</button>';
    } else {
      navAuth.innerHTML = '<a onclick="showLogin()">Log In</a><a onclick="showRegister()">Register</a>';
    }
  }

  window.showHome = function() {
    document.querySelectorAll('.article-view, .auth-container, .profile-container').forEach(el=>el.classList.remove('active'));
    document.getElementById('home-page').style.display = 'block';
    displayArticles();
  }

  window.filterByTeam = function(team) {
    currentFilter = team;
    window.showHome();
    displayArticles(team);
  }

  window.showArticle = function(id) {
    const article = articles.find(a=>a.id===id);
    if(!article) return;
    document.getElementById('view-article-title').textContent = article.title;
    document.getElementById('article-meta').textContent = article.team + ' | ' + formatDate(article.published_at);
    document.getElementById('article-content').innerHTML = article.content;
    document.querySelectorAll('.article-view, .auth-container, .profile-container').forEach(el=>el.classList.remove('active'));
    document.getElementById('article-page').classList.add('active');
  }

  function displayArticles(filter=null){
    const list = document.getElementById('articles-list');
    let filtered = filter ? articles.filter(a=>a.team===filter) : articles.slice();
    if(filtered.length===0) list.innerHTML='<p>No articles found.</p>';
    else list.innerHTML = filtered.map(a=>'<a class="article-link" onclick="showArticle('+a.id+')"><h3>'+escapeHtml(a.title)+'</h3><small>'+escapeHtml(a.team)+' | '+escapeHtml(formatDate(a.published_at))+'</small></a>').join('');
  }

  function formatDate(d){return new Date(d).toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'});}
  function escapeHtml(t){return String(t||'').replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");}

  updateAuthUI();
  window.showHome();
});
</script>

</body>
</html>
